<ion-header>
  <ion-navbar hideBackButton>
    <button ion-button (click)="openMenu()" class="menu-button">
      <ion-icon class="menu-button-icon" name="menu"></ion-icon>
    </button>
    <ion-title>
      {{project.name}}
    </ion-title>
    <button class=" refresh-btn">
      <ion-icon class="menu-button-icon" name="refresh" (click)="getIssues()"></ion-icon>
    </button>
    <button class="plus-btn">
      <ion-icon class="menu-button-icon" name="add" (click)="getIssuesType()"></ion-icon>
    </button>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-grid id="grid">
    <ion-row>
      <ion-col col-1>
        <div class="kanban-header" style="text-align: center">To Do - {{toDoIssues.length}}</div>
        <ion-list class="kanban-col to-do" [dragula]='"bag"' [dragulaModel]="toDoIssues" no-lines id="to-do">
          <ion-item delayDrag ion-item *ngFor="let item of toDoIssues" id="{{item.id}}" no-lines (click)="editIssue(item)">
            <p *ngIf="item?.fields?.summary" text-wrap>{{ item?.fields?.summary }}</p>
            <img *ngIf="item?.fields?.assignee?.avatarUrls['16x16']" [src]="item?.fields?.assignee?.avatarUrls['16x16']">
            <p *ngIf="item?.fields?.assignee?.displayName" text-wrap>{{ item?.fields?.assignee?.displayName }}</p>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col col-1>
        <div class="kanban-header">Doing - {{ doingIssues.length }}</div>
        <ion-list class="kanban-col doing" [dragula]='"bag"' [dragulaModel]="doingIssues" no-lines id="doing">
          <ion-item delayDrag ion-item *ngFor="let item of doingIssues" id="{{item.id}}" no-lines (click)="editIssue(item)">
            <p *ngIf="item?.fields?.summary" text-wrap>{{ item?.fields?.summary }}</p>
            <img *ngIf="item?.fields?.assignee?.avatarUrls['16x16']" [src]="item?.fields?.assignee?.avatarUrls['16x16']">
            <p *ngIf="item?.fields?.assignee?.displayName" text-wrap>{{ item?.fields?.assignee?.displayName }}</p>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col col-1>
        <div class="kanban-header">To Test - {{ toTestIssues.length }} </div>
        <ion-list class="kanban-col to-test" [dragula]='"bag"' [dragulaModel]="toTestIssues" no-lines id="to-test">
          <ion-item delayDrag ion-item *ngFor="let item of toTestIssues" id="{{item.id}}" no-lines (click)="editIssue(item)">
            <p *ngIf="item?.fields?.summary" text-wrap>{{ item?.fields?.summary }}</p>
            <img *ngIf="item?.fields?.assignee?.avatarUrls['16x16']" [src]="item?.fields?.assignee?.avatarUrls['16x16']">
            <p *ngIf="item?.fields?.assignee?.displayName" text-wrap>{{ item?.fields?.assignee?.displayName }}</p>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col col-1>
        <div class="kanban-header">Testing - {{ testingIssues.length }} </div>
        <ion-list class="kanban-col testing" [dragula]='"bag"' [dragulaModel]="testingIssues" no-lines id="testing">
          <ion-item delayDrag ion-item *ngFor="let item of testingIssues" id="{{item.id}}" no-lines (click)="editIssue(item)">
            <p *ngIf="item?.fields?.summary" text-wrap>{{ item?.fields?.summary }}</p>
            <img *ngIf="item?.fields?.assignee?.avatarUrls['16x16']" [src]="item?.fields?.assignee?.avatarUrls['16x16']">
            <p *ngIf="item?.fields?.assignee?.displayName" text-wrap>{{ item?.fields?.assignee?.displayName }}</p>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col col-1 style="margin-right: 0" id="done">
        <div class="kanban-header">Done - {{ doneIssues.length }}</div>
        <ion-list class="kanban-col done" [dragula]='"bag"' [dragulaModel]="doneIssues" no-lines id="done">
          <ion-item delayDrag ion-item *ngFor="let item of doneIssues" id="{{item.id}}" no-lines (click)="editIssue(item)">
            <p *ngIf="item?.fields?.summary" text-wrap>{{ item?.fields?.summary }}</p>
            <img *ngIf="item?.fields?.assignee?.avatarUrls['16x16']" [src]="item?.fields?.assignee?.avatarUrls['16x16']">
            <p *ngIf="item?.fields?.assignee?.displayName" text-wrap>{{ item?.fields?.assignee?.displayName }}</p>
          </ion-item>
        </ion-list>
      </ion-col>
      <ion-col></ion-col>
    </ion-row>
  </ion-grid>


</ion-content>